<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>外部合约</title>
    <link rel="stylesheet" href="../../../elementUI/elementUI.css"/>
</head>
<body>
    <div id="app">
        <div id="contract" style="margin: 0 135px">
            <el-button @click="addContract" type="primary">新增合同</el-button>
            <template>
                <el-table :data="tableData" style="width: 100%" :default-sort = "{prop:'date',order:'descending'}">
                    <el-table-column prop="company" label="合同单位" sortable width="220"></el-table-column>
                    <el-table-column prop="price" label="成交价格" sortable width="100"></el-table-column>
                    <el-table-column prop="linkman" label="联系人" width="100"></el-table-column>
                    <el-table-column prop="contractStatus" label="是否有效" width="100"></el-table-column>
                    <el-table-column label="操作" width="240">
                        <template slot-scope="scope">
                            <el-button size="mini" @click="contractInfo(scope.row)" type="primary">详细信息</el-button>
                            <el-button size="mini" @click="contractExtension(scope.row)" type="primary">续约</el-button>
                            <el-button size="mini" @click="relieveContract(scope.row.contractID)" type="primary">解约</el-button>

                        </template>
                    </el-table-column>
                </el-table>
                <el-pagination style="margin-top: 20px;"
                        background
                        layout="prev, pager, next,sizes"
                        :current-page.sync="currentPage"
                        :page-size="pageSize"
                        :page-sizes="[3, 5, 7, 10, 20, 50]"
                        :total="total"
                        @size-change="handleSizeChange"
                        @current-change="handleCurrentChange">
                </el-pagination>
            </template>
            <el-dialog title="详细信息" :append-to-body="true" custom-class="dialogDiv" :visible.sync="dialogInfoVisible" width="70%" height="80%">
                    <el-image
                            style="width: 30px; height: 30px"
                            :src="rowInfo.contractOfCopy"
                            :preview-src-list="rowInfo.srcList">
                    </el-image>

                <el-table :data="rowInfo.carArray">
                    <el-table-column property="carNumber" label="车位编号" width="150"></el-table-column>
                    <el-table-column property="carAddress" label="车位地址" width="200"></el-table-column>
                </el-table>
            </el-dialog>
        </div>
    </div>
</body>
<!--vue.js 必须在elementUI.js之前导入-->
<script src="../../../vue/Vue.js"></script>
<script src="../../../elementUI/elementUI.js"></script>
<script  src="js/externalContract.js"></script>
</html>